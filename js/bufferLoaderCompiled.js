function BufferLoader(b,d,a){this.context=b;this.urlList=d;this.onload=a;this.bufferList=[];this.loadCount=0}BufferLoader.prototype.loadBuffer=function(b,d){var a=new XMLHttpRequest;a.open("GET",b,!0);a.responseType="arraybuffer";var c=this;a.onload=function(){c.context.decodeAudioData(a.response,function(a){if(a){if(c.bufferList[d]=a,++c.loadCount==c.urlList.length)c.onload(c.bufferList)}else alert("error decoding file data: "+b)})};a.onerror=function(){alert("BufferLoader: XHR error")};a.send()};
BufferLoader.prototype.load=function(){for(var b=0;b<this.urlList.length;++b)this.loadBuffer(this.urlList[b],b)};